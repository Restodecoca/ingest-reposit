"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var react_1 = require("react");
var isBrowser = typeof document !== 'undefined';
/**
 * Returns a flag which determines if the document matches the given media query string.
 *
 * @param {string} query Media query string
 * @returns {boolean | null} Whether the document matches the given media query string
 */
function useMatchMedia(query) {
    var mql = (0, react_1.useMemo)(function () { return (isBrowser ? window.matchMedia(query) : null); }, [query]);
    var _a = (0, react_1.useState)(mql ? mql.matches : null), matches = _a[0], setMatches = _a[1];
    var handleMql = (0, react_1.useCallback)(function (event) {
        setMatches(event.matches);
    }, []);
    (0, react_1.useEffect)(function () {
        if (!mql) {
            return undefined;
        }
        mql.addEventListener('change', handleMql);
        return function () {
            mql.removeEventListener('change', handleMql);
        };
    }, [mql, handleMql]);
    return matches;
}
exports.default = useMatchMedia;
